# Задача про анаграммы

## Условие

Анаграмма — слово, полученное из другого слова путем перестановки букв.

Даны две строки и необходимо определить, являются ли они анаграммами.

## Способы решения

1. Отсортировать входные строки и после сортировки сравнить. Если они совпадают – строки являются анаграммами
2. Поместить уникальные символы из строк в отдельные ассоциативные массивы в качестве ключей. В качестве значений массива – количество вхождений каждого символа в строку. Получаем т.н. словарь. Затем сравнить оба словаря.

| #    | Время         | Память                                                    |
| ---- | ------------- | --------------------------------------------------------- |
| 1    | `O(N⋅log(N))` | `O(1)`, строки сортируются прямо во входных параметрах    |
| 2    | `O(N)`        | `O(C)`, где `C` – количество уникальных символов в строке |

Наилучшим является решение #2, с точки зрения сложности по времени.

## Решение 1

Готовый словарь возвращает функция (важно, она работает только с ASCII символами):

```php
count_chars ( string $string ) : mixed
```

В итоге получаем массив вида:

```php
[
    <символ> => <количество_вхождений>,
    ...
]
```

[Реализация](Solution1.php):

```php
public function areAnagrams(string $string1, string $string2): bool
{
    return count_chars($string1) == count_chars($string2);
}
```

[Тесты](./../../tests/Anagrams/Solution1Test.php)

## Решение 2

Построим *dictionary* вручную без функции `count_chars()`.

[Реализация](Solution2.php):

```php
# если строки разной длины – они не анаграммы
if (strlen($string1) !== strlen($string2)) {
    return false;
}

# выделяем память под dictionary – массив на 26 элементов (с учетом, что строка состоит только из английских символов)
$dictionary = array_fill(0, 26, 0);

# проходим по первому массиву, для каждой очередной буквы инкрементируем соответствующий счетчик в dictionary
for ($i = 0, $string1Length = strlen($string1); $i < $string1Length; $i++) {
    $dictionary[ord($string1[$i]) - ord('a')]++;
}

# проходимся по второму массиву, для каждой очередной буквы декрементируем соответствующий счетчик в dictionary
for ($i = 0; $i < $string1Length; $i++) {
    $dictionary[ord($string2[$i]) - ord('a')]--;

    # если какой-либо из счетчиков стал `< 0` – строки не анаграммы
    if ($dictionary[ord($string2[$i]) - ord('a')] < 0) {
        return false;
    }
}

# если ни один из счетчиков не стал `<0`, т.е. они все были успешно декрементрованы назад в 0 – строки анаграммы
return true;
```

[Тесты](./../../tests/Anagrams/Solution2Test.php)

